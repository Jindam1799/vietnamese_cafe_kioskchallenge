@import url('https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css');

:root {
    --primary: #3d2b1f;
    --accent: #ff7e36;
    --bg: #fdfaf7;
    --white: #ffffff;
    --kakao-blue: #b2c7da;
    --kakao-yellow: #fef01b;
    --shadow: 0 10px 30px rgba(61, 43, 31, 0.1);
}

* { box-sizing: border-box; -webkit-tap-highlight-color: transparent; margin: 0; padding: 0; }
body, html { height: 100dvh; font-family: 'Pretendard', sans-serif; background: #1a1a1a; overflow: hidden; }

#game-container { position: relative; width: 100%; max-width: 450px; height: 100dvh; margin: 0 auto; background: var(--bg); display: flex; flex-direction: column; overflow: hidden; box-shadow: 0 0 100px rgba(0,0,0,0.5); }

.layer { position: absolute; inset: 0; display: none; flex-direction: column; z-index: 10; background: var(--bg); }
.layer.active { display: flex; }

/* 애니메이션 효과 */
.pop-in { animation: popIn 0.3s cubic-bezier(0.17, 0.89, 0.32, 1.28); }
@keyframes popIn { from { transform: scale(0.8); opacity: 0; } to { transform: scale(1); opacity: 1; } }
.shake-ani { animation: shake 0.5s; }
@keyframes shake { 0%, 100% { transform: translateX(0); } 25% { transform: translateX(-10px); } 75% { transform: translateX(10px); } }

/* 오프닝 비디오 */
#layer-video { background: #000; }
video { width: 100%; height: 100%; object-fit: cover; opacity: 0.7; }
.video-overlay { position: absolute; inset: 0; display: flex; flex-direction: column; justify-content: center; align-items: center; color: #fff; }
.brand-logo { font-size: 3rem; font-weight: 900; letter-spacing: 5px; margin-bottom: 20px; color: var(--accent); }
.play-btn { background: var(--accent); padding: 20px 70px; border-radius: 50px; font-weight: 800; font-size: 1.5rem; transition: 0.3s; cursor: pointer; }

/* 카톡 대화 */
#layer-chat { background: var(--kakao-blue); }
.chat-header { padding: 20px; background: rgba(0,0,0,0.05); text-align: center; font-weight: 800; color: #333; }
.chat-log { flex: 1; overflow-y: auto; padding: 20px; display: flex; flex-direction: column; gap: 15px; }
.msg { display: flex; max-width: 85%; }
.msg.left { align-self: flex-start; }
.msg.right { align-self: flex-end; flex-direction: row-reverse; }
.friend-profile { width: 45px; height: 45px; background: #fff; border-radius: 18px; margin-right: 12px; display: flex; align-items: center; justify-content: center; font-size: 1.8rem; box-shadow: var(--shadow); }
.bubble { padding: 14px 18px; border-radius: 20px; background: #fff; font-size: 1rem; line-height: 1.6; color: #222; position: relative; }
.msg.left .bubble { border-top-left-radius: 4px; }
.msg.right .bubble { background: var(--kakao-yellow); border-top-right-radius: 4px; }
.choice-area { background: #fff; padding: 25px; border-radius: 30px 30px 0 0; display: flex; flex-direction: column; gap: 12px; box-shadow: 0 -10px 30px rgba(0,0,0,0.05); }
.choice-btn { background: #f8f9fa; border: 1.5px solid #eee; padding: 18px; border-radius: 15px; font-weight: 700; text-align: left; font-size: 1rem; transition: 0.2s; }
.choice-btn:active { background: #e9ecef; transform: scale(0.98); }

/* 키오스크 헤더 */
.kiosk-header { background: #fff; padding: 25px 20px; text-align: center; }
.timer-badge { color: #ff4757; font-weight: 800; font-size: 0.9rem; margin-bottom: 10px; display: inline-block; background: #fff0f0; padding: 5px 15px; border-radius: 50px; }
.logo-text { font-size: 1.6rem; color: var(--primary); letter-spacing: 2px; font-weight: 900; }

/* 탭 메뉴 */
.category-tabs { display: flex; padding: 10px 20px; background: #fff; gap: 10px; }
.tab-btn { flex: 1; padding: 14px; border: none; border-radius: 15px; background: #f1f3f5; color: #999; font-weight: 800; transition: 0.3s; }
.tab-btn.active { background: var(--primary); color: #fff; box-shadow: 0 8px 20px rgba(61, 43, 31, 0.2); }

/* 메뉴 카드 */
.menu-scroll-view { flex: 1; overflow-y: auto; padding: 25px; }
.menu-grid { display: none; grid-template-columns: 1fr 1fr; gap: 20px; }
.menu-grid.active { display: grid; }
.menu-card { background: #fff; padding: 25px 15px; border-radius: 25px; text-align: center; box-shadow: var(--shadow); transition: 0.2s; border: 2px solid transparent; }
.menu-card:active { transform: scale(0.95); border-color: var(--accent); }
.m-icon { font-size: 3.5rem; margin-bottom: 15px; }
.m-name { font-weight: 800; color: var(--primary); margin-bottom: 6px; font-size: 1.1rem; }
.m-price { color: var(--accent); font-weight: 800; font-size: 0.9rem; }

/* 하단 내비게이션 */
.bottom-nav { background: var(--primary); padding: 20px 30px; display: flex; justify-content: space-between; align-items: center; border-radius: 35px 35px 0 0; }
.cart-trigger { display: flex; align-items: center; gap: 12px; color: #fff; cursor: pointer; }
.cart-circle { background: rgba(255,255,255,0.1); width: 50px; height: 50px; border-radius: 50%; display: flex; justify-content: center; align-items: center; font-size: 1.4rem; position: relative; }
#cart-count { position: absolute; top: 0; right: 0; background: var(--accent); color: #fff; font-size: 0.75rem; padding: 3px 7px; border-radius: 50%; }
.checkout-btn { background: var(--accent); color: #fff; border: none; padding: 15px 35px; border-radius: 18px; font-weight: 800; font-size: 1.1rem; cursor: pointer; box-shadow: 0 8px 0 #d96326; }
.checkout-btn:active { transform: translateY(4px); box-shadow: 0 4px 0 #d96326; }

/* 포인트 키패드 */
.phone-display { font-size: 1.8rem; font-weight: 900; color: var(--primary); background: #f8f9fa; padding: 20px; border-radius: 15px; margin-bottom: 25px; letter-spacing: 2px; }
.keypad { display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; }
.key { background: #fff; border: 1.5px solid #eee; padding: 20px; border-radius: 15px; font-size: 1.3rem; font-weight: 800; }
.key:active { background: #f1f3f5; }
.key.action { background: #f8f9fa; color: #666; }
.key.enter { background: var(--primary); color: #fff; border: none; }

/* 결제 수단 & 영수증 */
.pay-methods { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin: 25px 0; }
.pay-btn-item { background: #fff; border: 2px solid #eee; padding: 25px 15px; border-radius: 20px; font-weight: 800; font-size: 1rem; }
.pay-btn-item:active { border-color: var(--accent); background: #fff8f5; }
.receipt { background: #fff; padding: 25px; border: 1.5px dashed #ddd; margin: 20px 0; text-align: left; font-family: 'Courier New', monospace; }

/* 공통 팝업 */
.modal-dim { position: absolute; inset: 0; background: rgba(0,0,0,0.7); display: none; justify-content: center; align-items: center; z-index: 500; padding: 30px; }
.modal-box { background: var(--white); border-radius: 35px; padding: 35px; width: 100%; box-shadow: 0 30px 60px rgba(0,0,0,0.3); position: relative; }
.popup-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
.close-icon { background: #f1f3f5; border: none; width: 35px; height: 35px; border-radius: 50%; cursor: pointer; font-size: 1.2rem; }

/* 옵션 시트 */
.sheet-overlay { position: absolute; inset: 0; background: rgba(0,0,0,0.5); display: none; align-items: flex-end; z-index: 100; }
.sheet-box { background: #fff; width: 100%; border-radius: 40px 40px 0 0; padding: 30px 40px 50px; transform: translateY(100%); transition: 0.4s cubic-bezier(0.16, 1, 0.3, 1); }
.sheet-overlay.active { display: flex; } .sheet-overlay.active .sheet-box { transform: translateY(0); }
.sheet-bar { width: 50px; height: 6px; background: #e9ecef; border-radius: 10px; margin: 0 auto 25px; }
.opt-group { margin-bottom: 30px; text-align: left; }
.opt-group label { display: block; font-weight: 800; color: var(--primary); margin-bottom: 15px; }
.pill-group { display: flex; gap: 12px; }
.pill { flex: 1; padding: 15px; border: 2px solid #f1f3f5; border-radius: 15px; background: #fff; font-weight: 800; color: #adb5bd; }
.pill.selected { border-color: var(--accent); color: var(--accent); background: #fff8f5; }
.stepper { display: flex; align-items: center; gap: 30px; justify-content: center; background: #f1f3f5; border-radius: 40px; padding: 8px; width: 160px; margin: 0 auto; }
.stepper button { width: 40px; height: 40px; border-radius: 50%; border: none; background: #fff; font-weight: 900; box-shadow: 0 4px 10px rgba(0,0,0,0.05); }

.btn-confirm-large { background: var(--primary); color: #fff; width: 100%; padding: 20px; border: none; border-radius: 20px; font-weight: 800; font-size: 1.2rem; }
