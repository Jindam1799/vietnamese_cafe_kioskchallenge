@import url('https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css');

:root {
    --primary: #3d2b1f;
    --accent: #ff7e36;
    --bg: #fdfaf7;
    --white: #ffffff;
    --kakao-blue: #b2c7da;
    --kakao-yellow: #fef01b;
    --gray-bg: #f1f3f5;
}

* { box-sizing: border-box; -webkit-tap-highlight-color: transparent; margin: 0; padding: 0; }
body, html { height: 100dvh; font-family: 'Pretendard', sans-serif; background: #222; overflow: hidden; }

/* 게임 컨테이너: 모바일 비율 고정 */
#game-container { position: relative; width: 100%; max-width: 450px; height: 100dvh; margin: 0 auto; background: var(--bg); display: flex; flex-direction: column; overflow: hidden; box-shadow: 0 0 50px rgba(0,0,0,0.5); }

.layer { position: absolute; inset: 0; display: none; flex-direction: column; z-index: 10; background: var(--bg); }
.layer.active { display: flex; }

/* 1. 비디오 화면 */
#layer-video { background: #000; }
video { width: 100%; height: 100%; object-fit: cover; opacity: 0.6; }
.video-overlay { position: absolute; inset: 0; display: flex; flex-direction: column; justify-content: center; align-items: center; color: #fff; z-index: 20; }
.brand-logo { font-size: 3rem; font-weight: 900; letter-spacing: 4px; margin-bottom: 30px; color: var(--accent); text-shadow: 0 2px 10px rgba(0,0,0,0.5); }
.play-btn { background: var(--accent); padding: 18px 60px; border-radius: 50px; font-weight: 800; font-size: 1.4rem; cursor: pointer; box-shadow: 0 5px 15px rgba(255, 126, 54, 0.4); }

/* 2. 카카오톡 화면 */
#layer-chat { background: var(--kakao-blue); }
.chat-header { padding: 15px; background: rgba(255,255,255,0.1); text-align: center; font-weight: 700; border-bottom: 1px solid rgba(0,0,0,0.05); }
.chat-log { flex: 1; overflow-y: auto; padding: 20px; display: flex; flex-direction: column; gap: 12px; }
.msg { display: flex; max-width: 80%; margin-bottom: 5px; opacity: 0; animation: fadeUp 0.3s forwards; }
.msg.left { align-self: flex-start; }
.msg.right { align-self: flex-end; flex-direction: row-reverse; }
.friend-profile { width: 40px; height: 40px; background: #fff; border-radius: 14px; margin-right: 10px; display: flex; align-items: center; justify-content: center; font-size: 1.5rem; flex-shrink: 0; }
.bubble { padding: 12px 16px; border-radius: 16px; background: #fff; font-size: 0.95rem; line-height: 1.5; box-shadow: 0 1px 3px rgba(0,0,0,0.1); position: relative; }
.msg.left .bubble { border-top-left-radius: 2px; }
.msg.right .bubble { background: var(--kakao-yellow); border-top-right-radius: 2px; }

.choice-area { background: #fff; padding: 20px; border-radius: 25px 25px 0 0; display: flex; flex-direction: column; gap: 10px; box-shadow: 0 -5px 20px rgba(0,0,0,0.05); }
.choice-btn { background: var(--gray-bg); border: 1px solid #eee; padding: 16px; border-radius: 12px; font-weight: 700; text-align: left; font-size: 1rem; color: #333; }
.choice-btn:active { background: #e9ecef; }

/* 3. 키오스크 화면 */
.kiosk-header { background: #fff; padding: 20px; text-align: center; border-bottom: 1px solid #eee; }
.timer-badge { background: #fff0f0; color: #ff4757; padding: 5px 12px; border-radius: 20px; font-size: 0.8rem; font-weight: 800; display: inline-block; margin-bottom: 5px; }
.logo-text { font-size: 1.6rem; color: var(--primary); font-weight: 900; }

.category-tabs { display: flex; padding: 10px 15px; background: #fff; gap: 8px; border-bottom: 1px solid #f5f5f5; }
.tab-btn { flex: 1; padding: 12px; border: none; border-radius: 10px; background: var(--gray-bg); color: #999; font-weight: 700; cursor: pointer; transition: 0.2s; }
.tab-btn.active { background: var(--primary); color: #fff; }

.menu-scroll-view { flex: 1; overflow-y: auto; padding: 20px; background: #fdfaf7; }
.menu-grid { display: none; grid-template-columns: 1fr 1fr; gap: 15px; }
.menu-grid.active { display: grid; }
.menu-card { background: #fff; padding: 20px 15px; border-radius: 18px; text-align: center; box-shadow: 0 4px 10px rgba(61, 43, 31, 0.05); border: 2px solid transparent; cursor: pointer; transition: 0.2s; }
.menu-card:active { border-color: var(--accent); transform: scale(0.98); }
.m-icon { font-size: 3rem; margin-bottom: 10px; }
.m-name { display: block; font-weight: 700; color: var(--primary); margin-bottom: 5px; }
.m-price { font-weight: 800; color: var(--accent); font-size: 0.9rem; }

.bottom-nav { background: var(--primary); padding: 15px 25px; display: flex; justify-content: space-between; align-items: center; border-radius: 25px 25px 0 0; color: #fff; }
.cart-trigger { display: flex; align-items: center; gap: 10px; cursor: pointer; }
.cart-icon-wrap { position: relative; font-size: 1.4rem; }
#cart-count { position: absolute; top: -5px; right: -8px; background: var(--accent); color: #fff; font-size: 0.7rem; padding: 2px 6px; border-radius: 10px; font-weight: 800; }
.checkout-btn { background: var(--accent); color: #fff; border: none; padding: 12px 25px; border-radius: 12px; font-weight: 800; font-size: 1rem; cursor: pointer; box-shadow: 0 4px 0 #d96326; }
.checkout-btn:active { transform: translateY(2px); box-shadow: 0 2px 0 #d96326; }

/* 옵션 시트 */
.sheet-overlay { position: absolute; inset: 0; background: rgba(0,0,0,0.5); display: none; align-items: flex-end; z-index: 100; }
.sheet-overlay.active { display: flex; }
.sheet-box { background: #fff; width: 100%; border-radius: 30px 30px 0 0; padding: 25px 25px 40px; transform: translateY(100%); transition: 0.3s cubic-bezier(0.16, 1, 0.3, 1); }
.sheet-overlay.active .sheet-box { transform: translateY(0); }
.sheet-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
.sheet-header h3 { font-size: 1.3rem; font-weight: 800; color: var(--primary); }
.close-icon { background: var(--gray-bg); border: none; width: 32px; height: 32px; border-radius: 50%; cursor: pointer; font-size: 1rem; color: #666; }
.opt-group { margin-bottom: 25px; }
.opt-group label { display: block; font-weight: 700; color: var(--primary); margin-bottom: 10px; font-size: 0.95rem; }

.pill-group { display: flex; gap: 10px; }
.pill { flex: 1; padding: 14px; border: 2px solid var(--gray-bg); border-radius: 12px; background: #fff; font-weight: 700; color: #bbb; cursor: pointer; transition: 0.2s; }
.pill.selected { border-color: var(--accent); color: var(--accent); background: #fff8f5; }

.stepper { display: flex; align-items: center; gap: 20px; justify-content: center; background: var(--gray-bg); padding: 5px 15px; border-radius: 30px; width: fit-content; margin: 0 auto; }
.stepper button { width: 32px; height: 32px; border-radius: 50%; border: none; background: #fff; font-weight: 900; color: var(--primary); cursor: pointer; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
.stepper span { font-weight: 800; font-size: 1.2rem; width: 25px; text-align: center; }

/* 포인트 박스형 입력창 */
.phone-display-container { display: flex; justify-content: center; align-items: center; gap: 4px; margin-bottom: 25px; padding: 5px; }
.digit-box { width: 28px; height: 40px; background: #fff; border: 2px solid #ddd; border-radius: 6px; display: flex; justify-content: center; align-items: center; font-size: 1.2rem; font-weight: 800; color: var(--primary); }
.digit-box.filled { border-color: var(--accent); background: #fff8f5; color: var(--accent); }
.phone-dash { font-size: 1.2rem; font-weight: 900; color: #ccc; margin: 0 2px; }

/* 키패드 및 모달 공통 */
.modal-dim { position: absolute; inset: 0; background: rgba(0,0,0,0.7); display: none; justify-content: center; align-items: center; z-index: 500; padding: 25px; }
.modal-box { background: #fff; border-radius: 25px; padding: 30px 25px; width: 100%; text-align: center; box-shadow: 0 20px 40px rgba(0,0,0,0.3); }
.keypad { display: grid; grid-template-columns: repeat(3, 1fr); gap: 8px; }
.key { background: #fff; border: 1px solid #eee; padding: 15px; border-radius: 12px; font-weight: 800; font-size: 1.2rem; cursor: pointer; box-shadow: 0 2px 0 #eee; }
.key:active { transform: translateY(2px); box-shadow: none; }
.key.enter { background: var(--primary); color: #fff; border: none; box-shadow: 0 2px 0 #2a1d15; }

.btn-confirm-large { background: var(--primary); color: #fff; border: none; width: 100%; padding: 16px; border-radius: 12px; font-weight: 800; font-size: 1.1rem; cursor: pointer; margin-top: 15px; box-shadow: 0 4px 0 #2a1d15; }
.btn-confirm-large:active { transform: translateY(2px); box-shadow: 0 2px 0 #2a1d15; }

/* 장바구니 리스트 */
.item-list-view { max-height: 250px; overflow-y: auto; margin: 15px 0; border-top: 1px solid #f1f1f1; text-align: left; }
.cart-item { display: flex; justify-content: space-between; align-items: center; padding: 12px 5px; border-bottom: 1px solid #f1f1f1; }
.cart-del-btn { color: #ff4757; background: none; border: none; font-weight: 700; cursor: pointer; font-size: 0.9rem; }

/* 애니메이션 */
@keyframes fadeUp { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
.pop-in { animation: fadeUp 0.3s forwards; }
.shake-ani { animation: shake 0.4s; }
@keyframes shake { 0%, 100% { transform: translateX(0); } 25% { transform: translateX(-5px); } 75% { transform: translateX(5px); } }
