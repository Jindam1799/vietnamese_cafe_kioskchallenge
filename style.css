@import url('https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css');

:root {
    --primary: #3d2b1f; /* 진한 커피색 */
    --accent: #ff7e36;  /* 포인트 오렌지 */
    --bg: #f8f9fa;      /* 연한 배경색 */
    --kakao-blue: #b2c7da;
    --kakao-yellow: #fef01b;
    --radius: 18px;
    --shadow: 0 8px 24px rgba(0,0,0,0.08);
}

* { box-sizing: border-box; -webkit-tap-highlight-color: transparent; outline: none; margin: 0; padding: 0; }
body, html { height: 100dvh; font-family: 'Pretendard', sans-serif; background: #222; overflow: hidden; }

#game-container { position: relative; width: 100%; max-width: 450px; height: 100dvh; margin: 0 auto; background: var(--bg); display: flex; flex-direction: column; overflow: hidden; }
.layer { position: absolute; inset: 0; display: none; flex-direction: column; z-index: 10; }
.layer.active { display: flex; }

/* 애니메이션 */
@keyframes shake { 0%, 100% { transform: translateX(0); } 10%, 30%, 50%, 70%, 90% { transform: translateX(-8px); } 20%, 40%, 60%, 80% { transform: translateX(8px); } }
.shake-ani { animation: shake 0.5s both; }

/* 1. 비디오/시작 */
#layer-video { background: #000; }
video { width: 100%; height: 100%; object-fit: cover; }
.video-overlay { position: absolute; inset: 0; display: flex; flex-direction: column; justify-content: center; align-items: center; background: rgba(0,0,0,0.4); color: #fff; cursor: pointer; }
.play-btn { background: var(--accent); padding: 18px 60px; border-radius: 50px; font-weight: 800; font-size: 1.4rem; box-shadow: 0 4px 15px rgba(255,126,54,0.4); transition: 0.2s; }
.play-btn:active { transform: scale(0.95); }

/* 2. 카톡 채팅 */
#layer-chat { background: var(--kakao-blue); }
.chat-header { padding: 15px 20px; background: rgba(0,0,0,0.04); display: flex; justify-content: space-between; align-items: center; font-weight: 700; }
.chat-log { flex: 1; overflow-y: auto; padding: 20px; display: flex; flex-direction: column; gap: 16px; }
.msg { display: flex; max-width: 85%; }
.msg.left { align-self: flex-start; }
.msg.right { align-self: flex-end; flex-direction: row-reverse; }
.friend-profile { width: 44px; height: 44px; background: #fff; border-radius: 16px; margin-right: 12px; display: flex; align-items: center; justify-content: center; font-size: 1.6rem; flex-shrink: 0; }
.bubble { padding: 12px 16px; border-radius: 18px; font-size: 1rem; line-height: 1.5; box-shadow: var(--shadow); background: #fff; }
.msg.left .bubble { border-top-left-radius: 2px; }
.msg.right .bubble { background: var(--kakao-yellow); border-top-right-radius: 2px; }
.trans-sub { font-size: 0.85rem; color: #888; border-top: 1px solid #eee; margin-top: 8px; padding-top: 6px; font-style: italic; }
.choice-area { background: #fff; padding: 20px; border-radius: 24px 24px 0 0; display: flex; flex-direction: column; gap: 10px; box-shadow: 0 -5px 20px rgba(0,0,0,0.05); }
.choice-btn { background: #f1f3f5; border: 1px solid #e9ecef; padding: 16px; border-radius: 14px; font-weight: 700; text-align: left; transition: 0.2s; font-size: 0.95rem; }
.choice-btn:active { background: #e9ecef; transform: scale(0.98); }

/* 3. 키오스크 */
.kiosk-header { background: #fff; padding: 20px; text-align: center; border-bottom: 1px solid #eee; }
.header-top { display: flex; justify-content: center; margin-bottom: 8px; }
.timer-badge { background: #fff0f0; border: 1.5px solid #ffdada; padding: 4px 12px; border-radius: 20px; display: flex; gap: 6px; align-items: center; }
#timer-display { color: #ff4757; font-weight: 800; font-size: 0.9rem; }
.kiosk-header h1 { font-size: 1.3rem; color: var(--primary); letter-spacing: 1px; }

.category-tabs { display: flex; padding: 15px; gap: 10px; background: #fff; }
.tab { flex: 1; padding: 12px; border: none; border-radius: 12px; font-weight: 800; background: #f1f3f5; color: #adb5bd; transition: 0.3s; cursor: pointer; }
.tab.active { background: var(--primary); color: #fff; }

.menu-view { flex: 1; overflow-y: auto; padding: 20px; background: #fafafa; }
.menu-grid { display: none; grid-template-columns: 1fr 1fr; gap: 18px; }
.menu-grid.active { display: grid; }
.menu-card { background: #fff; padding: 20px; border-radius: var(--radius); text-align: center; box-shadow: var(--shadow); transition: 0.2s; border: 1.5px solid transparent; }
.menu-card:active { transform: scale(0.96); border-color: var(--accent); }
.m-icon { font-size: 3.2rem; margin-bottom: 12px; }
.m-name { font-weight: 700; color: var(--primary); display: block; margin-bottom: 4px; }
.m-price { color: var(--accent); font-weight: 800; font-size: 0.9rem; }

/* 4. 장바구니 하단바 */
.cart-bar { background: var(--primary); padding: 18px 25px; color: #fff; display: flex; justify-content: space-between; align-items: center; border-radius: 24px 24px 0 0; }
.cart-info-btn { display: flex; align-items: center; gap: 10px; cursor: pointer; font-weight: 700; }
.cart-icon { font-size: 1.4rem; }
.pay-btn { background: var(--accent); color: #fff; border: none; padding: 10px 24px; border-radius: 12px; font-weight: 800; font-size: 1rem; box-shadow: 0 4px 0 #d96326; transition: 0.1s; cursor: pointer; }
.pay-btn:active { transform: translateY(2px); box-shadow: none; }

/* 5. 바텀 시트 (옵션) */
.sheet-overlay { position: absolute; inset: 0; background: rgba(0,0,0,0.5); display: none; align-items: flex-end; z-index: 100; }
.sheet-overlay.active { display: flex; }
.sheet-box { background: #fff; width: 100%; border-radius: 30px 30px 0 0; padding: 25px 30px 40px; transform: translateY(100%); transition: 0.35s cubic-bezier(0.16, 1, 0.3, 1); }
.sheet-overlay.active .sheet-box { transform: translateY(0); }
.sheet-handle { width: 40px; height: 5px; background: #e9ecef; border-radius: 10px; margin: 0 auto 20px; }
.sheet-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 25px; }
.close-circle { width: 32px; height: 32px; border-radius: 50%; border: none; background: #f1f3f5; color: #adb5bd; font-size: 1.1rem; cursor: pointer; }

.opt-row { margin-bottom: 24px; }
.opt-row label { display: block; font-weight: 800; margin-bottom: 12px; font-size: 0.95rem; color: var(--primary); }
.toggle-group { display: flex; gap: 10px; }
.tgl-btn { flex: 1; padding: 14px; border: 2px solid #f1f3f5; background: #fff; border-radius: 14px; font-weight: 800; color: #adb5bd; transition: 0.2s; cursor: pointer; }
.tgl-btn.selected { border-color: var(--accent); color: var(--accent); background: #fff8f5; }

.stepper-ui { display: flex; align-items: center; gap: 24px; background: #f1f3f5; padding: 8px 20px; border-radius: 30px; width: fit-content; margin: 0 auto; }
.stepper-ui button { width: 36px; height: 36px; border-radius: 50%; border: none; background: #fff; font-weight: 800; font-size: 1.2rem; box-shadow: 0 2px 5px rgba(0,0,0,0.05); }

.btn-primary { background: var(--primary); color: #fff; border: none; width: 100%; padding: 18px; border-radius: 16px; font-weight: 800; font-size: 1.1rem; cursor: pointer; margin-top: 10px; }
.btn-secondary { background: #f1f3f5; color: #495057; border: none; width: 100%; padding: 16px; border-radius: 14px; font-weight: 700; cursor: pointer; }

/* 6. 장바구니 리스트 / 모달 */
.modal-dim { position: absolute; inset: 0; background: rgba(0,0,0,0.7); display: none; justify-content: center; align-items: center; z-index: 500; padding: 25px; }
.modal-box { background: #fff; border-radius: 28px; padding: 30px; width: 100%; text-align: center; box-shadow: 0 20px 40px rgba(0,0,0,0.2); }
.popup-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
.cart-list { max-height: 240px; overflow-y: auto; margin-bottom: 20px; border-top: 1px solid #eee; }
.cart-item { display: flex; justify-content: space-between; align-items: center; padding: 15px 0; border-bottom: 1px solid #f8f9fa; text-align: left; }
.c-info { display: flex; flex-direction: column; gap: 2px; }
.c-name { font-weight: 800; color: var(--primary); }
.c-opt { font-size: 0.8rem; color: #999; }
.btn-del { background: #fff0f0; color: #ff4757; border: none; width: 32px; height: 32px; border-radius: 8px; font-weight: 800; cursor: pointer; }
.fail-hint { background: #fff9f5; border: 1.5px dashed #ffdada; padding: 15px; border-radius: 16px; margin: 20px 0; text-align: left; font-size: 0.9rem; line-height: 1.6; }